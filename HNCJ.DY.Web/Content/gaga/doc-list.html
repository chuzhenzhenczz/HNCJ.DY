<!doctype html>
<html>
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="css/main.css">
</head>
<style>

</style>
<body>
<ul class="list " data-id="list">
    <li><a href="doc-detail.html?docId=1" target="right">文档一</a>

    </li>
    <li><a href="doc-detail.html?docId=1" target="right">文档一</a>

    </li>
    <li><a href="doc-detail.html?docId=1" target="right">文档一</a>

    </li>
    <li><a href="doc-detail.html?docId=1" target="right">文档一</a>

    </li>
    <li><a href="doc-detail.html?docId=1" target="right">文档一</a>

    </li>
    <li><a href="doc-detail.html?docId=1" target="right">文档一</a>
    </li>
</ul>
<ul class='contextmenu hide' data-id="contextmenu">
    <li><a href='#'>添加</a></li>
    <li><a href='#'>删除</a></li>
    <li><a href='#'>修改</a></li>
</ul>
<div class="box-shadow-right"></div>
<script src="lib/jquery/jquery.js"></script>
<script>
    $("[data-id = list]").find("li > a").on("contextmenu", function (e) {
        /*
         *  点击时，获取点击时在页面中的坐标。
         *  意外：
         *    1. 菜单出了界面
         *  解决：
         *    1. y大于高度的一半，菜单朝上
         *    2. x大于宽度的一半，菜单朝左
         *  相关数据
         *    1. 宽度 $(window).width()
         *    2. 高度 $(window).height()
         *    3. 菜单 高度 h: 110 宽度 w: 148
         * */
        var h = 110;
        var w = 148;
        e.preventDefault();
        $("[data-id=contextmenu]").removeClass('hide')
        var left = e.pageX;
        var top = e.pageY;
        if (e.pageX > ($(window).width() / 2)) {
                left -= w;
        }
        if (e.pageY - 60 > ($(window).width() / 2)) {
                top -= h;
        }
        $("[data-id=contextmenu]").css({
            left: left + "px",
            top: top + "px"
        });
    });
    $(document).on('contextmenu', function (e) {
        e.preventDefault();
    });
    $(document).on('click', function () {
        $("[data-id=contextmenu]").addClass('hide')
    })
</script>
</body>
</html>